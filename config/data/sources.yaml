# ============================================================
# FKS Trading Systems - Data Sources Configuration
# ============================================================

# Exchange connections
exchanges:
  # Cryptocurrency exchanges
  binance:
    enabled: true
    priority: 1
    type: "crypto"
    api_key: ""
    api_secret: ""
    testnet: false
    symbols:
      - "BTCUSDT"
      - "ETHUSDT"
      - "SOLUSDT"
      - "BNBUSDT"
      - "ADAUSDT"
    timeframes:
      - "1m"
      - "5m"
      - "15m"
      - "30m"
      - "1h"
      - "4h"
      - "1d"
    data_types:
      - "ohlcv"
      - "ticker"
      - "orderbook"
      - "trades"
    rate_limit_margin: 0.8 # Use 80% of available rate limit

  coinbase:
    enabled: false
    priority: 2
    type: "crypto"
    api_key: ""
    api_secret: ""
    passphrase: ""
    symbols:
      - "BTC-USD"
      - "ETH-USD"
      - "SOL-USD"
    timeframes:
      - "1m"
      - "5m"
      - "15m"
      - "1h"
      - "6h"
      - "1d"
    data_types:
      - "ohlcv"
      - "ticker"
      - "orderbook"
    rate_limit_margin: 0.7

  kucoin:
    enabled: false
    priority: 3
    type: "crypto"
    api_key: ""
    api_secret: ""
    passphrase: ""
    symbols:
      - "BTC-USDT"
      - "ETH-USDT"
    timeframes:
      - "1m"
      - "5m"
      - "15m"
      - "1h"
      - "4h"
      - "1d"
    data_types:
      - "ohlcv"
      - "ticker"
    rate_limit_margin: 0.7

  # Stock exchanges/brokers
  alpaca:
    enabled: false
    priority: 1
    type: "stocks"
    api_key: ""
    api_secret: ""
    paper: true
    symbols:
      - "AAPL"
      - "MSFT"
      - "GOOGL"
      - "AMZN"
      - "TSLA"
    timeframes:
      - "1m"
      - "5m"
      - "15m"
      - "1h"
      - "1d"
    data_types:
      - "ohlcv"
      - "ticker"
      - "trades"
    rate_limit_margin: 0.8

# External data APIs
apis:
  # Market data APIs
  yahoo_finance:
    enabled: true
    priority: 1
    requires_key: false
    api_key: ""
    symbols:
      - "AAPL"
      - "MSFT"
      - "GOOGL"
      - "BTC-USD"
      - "ETH-USD"
    timeframes:
      - "1h"
      - "1d"
      - "1wk"
      - "1mo"
    data_types:
      - "ohlcv"
      - "ticker"
    rate_limit: 2000 # requests per hour

  alpha_vantage:
    enabled: false
    priority: 2
    requires_key: true
    api_key: ""
    symbols:
      - "AAPL"
      - "MSFT"
      - "BTC"
      - "ETH"
    timeframes:
      - "1m"
      - "5m"
      - "15m"
      - "30m"
      - "60m"
      - "daily"
      - "weekly"
      - "monthly"
    data_types:
      - "ohlcv"
      - "ticker"
      - "fundamentals"
    rate_limit: 500 # requests per day

  polygon:
    enabled: false
    priority: 3
    requires_key: true
    api_key: ""
    symbols:
      - "AAPL"
      - "MSFT"
      - "GOOGL"
    timeframes:
      - "1m"
      - "5m"
      - "15m"
      - "1h"
      - "1d"
    data_types:
      - "ohlcv"
      - "ticker"
      - "trades"
    rate_limit: 5 # requests per minute (free tier)

  # Fundamental data APIs
  financial_modeling_prep:
    enabled: false
    priority: 1
    requires_key: true
    api_key: ""
    symbols:
      - "AAPL"
      - "MSFT"
      - "GOOGL"
    data_types:
      - "income_statement"
      - "balance_sheet"
      - "cash_flow"
      - "key_metrics"
      - "ratios"
    rate_limit: 250 # requests per day (free tier)

  # News and sentiment APIs
  news_api:
    enabled: false
    priority: 1
    requires_key: true
    api_key: ""
    symbols:
      - "AAPL"
      - "MSFT"
      - "GOOGL"
      - "bitcoin"
      - "ethereum"
    data_types:
      - "news"
      - "headlines"
    rate_limit: 100 # requests per day (free tier)

# Local files
files:
  # CSV files
  csv:
    enabled: true
    directory: "/app/data/csv"
    format:
      - timestamp
      - open
      - high
      - low
      - close
      - volume
    delimiter: ","
    date_format: "%Y-%m-%d %H:%M:%S"
    timeframes:
      - "1h"
      - "4h"
      - "1d"

  # Parquet files
  parquet:
    enabled: true
    directory: "/app/data/parquet"
    partition_by: ["symbol", "timeframe"]

  # Custom data importers
  custom:
    enabled: false
    importer_module: "data.importers.custom"
    directory: "/app/data/custom"

# Database sources
databases:
  # PostgreSQL
  postgres:
    enabled: true
    host: "postgres"
    port: 5432
    database: "financial_data"
    user: "postgres"
    password: "123456"
    schema: "market_data"
    tables:
      ohlcv: "candles"
      ticker: "tickers"
      trades: "trades"
      orderbook: "orderbooks"

  # InfluxDB (time-series database)
  influxdb:
    enabled: false
    url: "http://influxdb:8086"
    token: ""
    org: "fks"
    bucket: "market_data"

  # MongoDB
  mongodb:
    enabled: false
    uri: "mongodb://mongodb:27017"
    database: "financial_data"
    collections:
      ohlcv: "candles"
      ticker: "tickers"
      trades: "trades"
      orderbook: "orderbooks"

# Data synchronization
synchronization:
  # Default sync settings
  default_interval: 60 # seconds
  default_history_days: 30
  backfill_on_start: true
  sync_missing_only: true

  # Scheduled synchronization
  scheduled:
    daily_sync:
      enabled: true
      time: "00:00"
      lookback_days: 7

    weekly_sync:
      enabled: true
      day: "Sunday"
      time: "00:00"
      lookback_days: 30

    monthly_sync:
      enabled: true
      day: 1
      time: "00:00"
      lookback_days: 90

  # Symbol specific settings
  symbols:
    BTCUSDT:
      priority: 1
      interval: 30 # seconds
      timeframes:
        - "1m"
        - "5m"
        - "15m"
        - "1h"
        - "4h"
        - "1d"

    ETHUSDT:
      priority: 2
      interval: 60 # seconds
      timeframes:
        - "1m"
        - "5m"
        - "15m"
        - "1h"
        - "4h"
        - "1d"

    AAPL:
      priority: 3
      interval: 300 # seconds
      timeframes:
        - "1h"
        - "1d"

# Fallback sources
fallbacks:
  # Fallback order for crypto symbols
  crypto:
    - "binance"
    - "coinbase"
    - "kucoin"
    - "yahoo_finance"
    - "csv"
    - "postgres"

  # Fallback order for stock symbols
  stocks:
    - "alpaca"
    - "yahoo_finance"
    - "alpha_vantage"
    - "polygon"
    - "csv"
    - "postgres"

# Data source configuration

# Data configuration
data:
  default_interval: "1h"
  default_days: 365
  cache_dir: "/app/data/cache"
  data_sources:
    - "yfinance"
    - "alpha_vantage"
    - "coinapi"
