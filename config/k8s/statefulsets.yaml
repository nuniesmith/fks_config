# Kubernetes StatefulSets Configuration
k8s:
  statefulsets:
    - name: postgres
      namespace: database
      image: postgres:17-alpine
      replicas: 1
      containerPort: 5432
      volumeClaimTemplates:
        - name: data
          accessModes: ["ReadWriteOnce"]
          storageClassName: standard
          resources:
            requests:
              storage: 5Gi
      env:
        - name: POSTGRES_USER
          valueFrom:
            secretKeyRef:
              name: db-credentials
              key: username
        - name: POSTGRES_PASSWORD
          valueFrom:
            secretKeyRef:
              name: db-credentials
              key: password
        - name: POSTGRES_DB
          value: db